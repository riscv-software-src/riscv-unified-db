# This file was generated by `./bin/chore gen regress`
# DO NOT EDIT
# Instead, edit `tools/test/regress-tests.yaml` (preferred) or `tools/test/regress-gh-template.yaml`

---
name: Regression test
permissions:
  contents: read
  pull-requests: write
'on':
  pull_request:
    branches:
    - main
  merge_group:
    types:
    - checks_requested
  workflow_dispatch:
env:
  DOCKER: 1
concurrency:
  group: "${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}"
  cancel-in-progress: true
jobs:
  build-container:
    runs-on: ubuntu-latest
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Get container tag
      run: |
        TAG=$(cat bin/.container-tag)
        echo "TAG=$TAG" >> $GITHUB_ENV
    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@8d2750c68a42422c14e847fe6c8ac0403b4cbd6f
    - name: Build and export
      uses: docker/build-push-action@263435318d21b8e681c14492fe198d362a7d2c83
      with:
        push: false
        file: "./.devcontainer/Dockerfile"
        platforms: linux/amd64
        tags: riscvintl/udb:${{ env.TAG }}
        outputs: type=docker,dest=${{ runner.temp }}/docker_image.tar
        cache-from: type=gha
        cache-to: type=gha,mode=max
    - name: Upload container
      uses: actions/upload-artifact@ea165f8d65b6e75b540449e92b4886f43607fa02
      with:
        name: docker_image
        path: "${{ runner.temp }}/docker_image.tar"
  never-runs:
    runs-on: ubuntu-latest
    if: 'false'
    steps:
    - name: Use download-artifact
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
  regress-pre-commit:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
      with:
        submodules: 'true'
    - uses: actions/setup-python@a26af69be951a213d495a4c3e4e4022e16d87065
    - uses: pre-commit/action@2c7b3805fd2a0fd8c1884dcaebf91fc102a13ecd
  regress-llvm:
    runs-on: ubuntu-latest
    needs:
    - build-container
    - build-llvm
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Get current LLVM submodule commit SHA
      id: get-llvm-sha
      run: echo "LLVM_SHA=$(git ls-tree HEAD ext/llvm-project | awk '{print $3}')" >> $GITHUB_ENV
    - name: Restore cache RISC-V JSON
      id: cache-riscv
      uses: actions/cache@0057852bfaa89a56745cba8c7296529d2fc39830
      with:
        path: ext/llvm-project/riscv.json
        key: "${{ runner.os }}-riscv-json-${{ env.LLVM_SHA }}"
    - name: Test LLVM
      run: "./do test:llvm"
  regress-find-configs:
    runs-on: ubuntu-latest
    needs: build-container
    outputs:
      configs: "${{ steps.configs.outputs.configs }}"
    steps:
    - uses: actions/checkout@93cb6efe18208431cddfb8368fd83d5badbf9bfd
    - uses: ruby/setup-ruby@v1
      with:
        ruby-version: '3.2'
    - name: Find configuration files
      id: configs
      run: >
        ruby -e "puts 'configs=[\"' + Dir.glob('cfgs/*.yaml').map { |f| File.basename(f, '.yaml') }.join('\",
        \"') + '\"]'" >> "$GITHUB_OUTPUT"
  regress-udb-cov-report:
    runs-on: ubuntu-latest
    needs:
    - build-container
    - regress-udb-unit-test
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: download coverage
      uses: actions/download-artifact@634f93cb2916e3fdff6788551b99b062d0335ce0
      with:
        pattern: udb-*-cov
        path: _cov/udb
        merge-multiple: true
        github-token: "${{ secrets.GITHUB_TOKEN }}"
    - name: Collate coverage
      run: "./do chore:udb:collate_cov[_cov/udb]"
    - name: Upload udb coverage reports to Codecov
      uses: codecov/codecov-action@671740ac38dd9b0130fbe1cec585b89eea48d3de
      with:
        token: "${{ secrets.CODECOV_TOKEN }}"
        disable_search: true
        files: tools/ruby-gems/udb/coverage/coverage.xml
        flags: udb
  build-llvm:
    runs-on: ubuntu-latest
    steps:
    - name: Check out repository (no submodules, shallow fetch)
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
      with:
        submodules: false
        fetch-depth: 1
    - name: Get current LLVM submodule commit SHA
      id: get-llvm-sha
      run: echo "LLVM_SHA=$(git ls-tree HEAD ext/llvm-project | awk '{print $3}')" >> $GITHUB_ENV
    - name: Cache RISC-V JSON
      id: cache-riscv
      uses: actions/cache@0057852bfaa89a56745cba8c7296529d2fc39830
      with:
        path: ext/llvm-project/riscv.json
        key: "${{ runner.os }}-riscv-json-${{ env.LLVM_SHA }}"
    - name: Initialize LLVM submodule (shallow + sparse)
      if: "${{ steps.cache-riscv.outputs.cache-hit != 'true' }}"
      run: |
        rm -rf ext/llvm-project
        git submodule sync --recursive
        git submodule update --init --recursive --depth=1 ext/llvm-project
    - name: Check for required directories and files
      if: "${{ steps.cache-riscv.outputs.cache-hit != 'true' }}"
      run: |
        ls -l ext/llvm-project/llvm/include
        ls -l ext/llvm-project/llvm/lib/Target/RISCV
        ls -l ext/llvm-project/llvm/lib/Target/RISCV/RISCV.td
    - name: Configure and build llvm-tblgen
      if: "${{ steps.cache-riscv.outputs.cache-hit != 'true' }}"
      run: |
        cmake -S ext/llvm-project/llvm -B ext/llvm-project/build -DCMAKE_BUILD_TYPE=Release
        cmake --build ext/llvm-project/build --target llvm-tblgen
    - name: Generate RISC-V JSON
      if: "${{ steps.cache-riscv.outputs.cache-hit != 'true' }}"
      run: |
        chmod +x ./ext/llvm-project/build/bin/llvm-tblgen
        ./ext/llvm-project/build/bin/llvm-tblgen \
          -I ext/llvm-project/llvm/include \
          -I ext/llvm-project/llvm/lib/Target/RISCV \
          ext/llvm-project/llvm/lib/Target/RISCV/RISCV.td \
          --dump-json \
          -o ext/llvm-project/riscv.json
    - name: Show riscv.json output
      run: ls -l ext/llvm-project/riscv.json
    - name: Upload RISC-V JSON as Artifact
      uses: actions/upload-artifact@ea165f8d65b6e75b540449e92b4886f43607fa02
      with:
        name: riscv-json
        path: ext/llvm-project/riscv.json
  call-deploy:
    uses: "./.github/workflows/deploy.yml"
    with:
      dry-run: true
  java-tests:
    name: Java (Xtext) tests
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: tools/eclipse/dev/org.xtext.udb.parent
    steps:
    - uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Setup Temurin JDK 21
      uses: actions/setup-java@c1e323688fd81a25caa38c78aa6df2d33d3e20d9
      with:
        distribution: temurin
        java-version: '21'
        cache: maven
    - name: Build & test (whole reactor)
      working-directory: tools/eclipse/dev/org.xtext.udb.parent
      env:
        MAVEN_OPTS: >-
          -Djdk.xml.maxGeneralEntitySizeLimit=0 -Djdk.xml.totalEntitySizeLimit=0 -Djdk.xml.entityExpansionLimit=0
      run: mvn -B -U -Dheadless=true verify
    - name: Archive surefire reports (always)
      if: always()
      uses: actions/upload-artifact@ea165f8d65b6e75b540449e92b4886f43607fa02
      with:
        name: surefire-reports
        path: |
          **/target/surefire-reports/*.xml
          **/target/surefire-reports/*.txt
  vscode-tests:
    name: VS Code Mocha tests
    runs-on: ubuntu-latest
    needs: java-tests
    defaults:
      run:
        working-directory: tools/eclipse/udb-vscode
    steps:
    - uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020
      with:
        node-version: '20'
        cache: npm
        cache-dependency-path: tools/eclipse/udb-vscode/package-lock.json
    - name: Setup Temurin JDK 21 (for LS)
      uses: actions/setup-java@c1e323688fd81a25caa38c78aa6df2d33d3e20d9
      with:
        distribution: temurin
        java-version: '21'
    - name: Install deps
      run: npm ci
    - name: Compile
      run: npm run compile
    - name: Run VS Code tests
      run: xvfb-run -a npm test
    - name: Archive VS Code test logs (always)
      if: always()
      uses: actions/upload-artifact@ea165f8d65b6e75b540449e92b4886f43607fa02
      with:
        name: vscode-test-logs
        path: |
          tools/eclipse/udb-vscode/.vscode-test/**/*
          tools/eclipse/udb-vscode/out/test/**/*
  regress-idlc-unit:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Run idlxc unit tests
      run: "./do test:idlc:unit"
    - name: Upload idlc coverage reports to Codecov
      uses: codecov/codecov-action@671740ac38dd9b0130fbe1cec585b89eea48d3de
      with:
        token: "${{ secrets.CODECOV_TOKEN }}"
        disable_search: true
        files: tools/ruby-gems/idlc/coverage/coverage.xml
        flags: idlc
  regress-udb-helpers-unit:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Run udb-helpers unit tests
      run: "./do test:udb_helpers:unit"
  regress-sorbet:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Run sorbet checks
      run: export XDG_CACHE_HOME=${{ github.workspace }}/.cache && ./do test:sorbet
  regress-ext-explorer:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate ISA Explorer browser artifacts
      run: "./bin/udb-gen isa-explorer -t ext-browser -o gen/isa_explorer --skip 6"
  regress-idl-typecheck:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Type check IDL for _
      run: "./do test:idl CFG=_"
    - name: Type check IDL for rv32
      run: "./do test:idl CFG=rv32"
    - name: Type check IDL for rv64
      run: "./do test:idl CFG=rv64"
    - name: Type check IDL for qc_iu
      run: "./do test:idl CFG=qc_iu"
  regress-test-inst-encodings:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Checking for conflicts in instruction encodings
      run: "./do test:inst_encodings"
  regress-gen-isa-manual:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: checkout ISA manual
      run: git submodule update --init ext/riscv-isa-manual
    - name: Mark isa-manual as safe
      run: ./bin/bash -c "git config --local --add safe.directory '*'"
    - name: Generate HTML ISA manual
      run: "./do gen:html_manual"
    env:
      MANUAL_NAME: isa
      VERSIONS: isa_regress
      CFG: regress
  regress-gen-instruction-appendix:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate instruction appendix asciidoc
      run: "./do gen:instruction_appendix_adoc"
    - name: Check instruction appendix result
      run: "./do test:instruction_appendix"
  regress-cfg-manual:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate HTML ISA manual
      run: "./do gen:html[example_rv64_with_overlay]"
  regress-gen-ext-pdf:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate Xqci extension PDF
      run: "./bin/ruby tools/scripts/gen_xqci.rb"
  regress-gen-certificate:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate extension PDF
      run: "./do gen:proc_crd_pdf[MockProcessor]"
  regress-gen-profile:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate extension PDF
      run: "./do gen:profile_release_pdf[Mock]"
  regress-udb-unit-test:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Run udb gem ${{ matrix.test }} unit tests
      run: "./bin/ruby tools/ruby-gems/udb/test/test_${{ matrix.test }}.rb"
    - name: Update ownership of coverage files
      run: sudo chown -R $USER:$USER tools/ruby-gems/udb/coverage
    - name: Rename coverage file
      run: >-
        mv tools/ruby-gems/udb/coverage/.resultset.json tools/ruby-gems/udb/coverage/${{ matrix.test }}.resultset.json
    - name: Save coverage report
      uses: actions/upload-artifact@ea165f8d65b6e75b540449e92b4886f43607fa02
      with:
        name: udb-${{ matrix.test }}-cov
        path: tools/ruby-gems/udb/coverage/${{ matrix.test }}.resultset.json
    strategy:
      matrix:
        test:
        - logic
        - conditions
        - cli
        - yaml_loader
        - cfg_arch
        - cfg
  regress-gen-go:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate Go code
      run: "./do gen:go"
  regress-gen-c-header:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate c_header code
      run: "./do gen:c_header"
  regress-gen-sverilog:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate sverilog_header code
      run: "./do gen:sverilog"
  regress-cpp-unit:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Run cpp unit tests
      run: "./do test:cpp_hart CONFIG=rv64 JOBS=4 BUILD_TYPE=debug"
  regress-riscv-tests:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: check out riscv-tests
      run: git submodule update --init ext/riscv-tests
    - name: Run RV32 riscv-tests
      run: "./do test:riscv_tests CONFIG=rv32 IGNOREUNDEFINED=YES JOBS=4 BUILD_TYPE=debug"
  regress-riscv-tests-64:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: check out riscv-tests
      run: git submodule update --init ext/riscv-tests
    - name: Run RV64 riscv-tests
      run: "./do test:riscv_tests CONFIG=rv64 IGNOREUNDEFINED=YES JOBS=4 BUILD_TYPE=debug"
  regress-xqci-doc:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Generate Xqci pdf documentation
      run: "./bin/ruby tools/scripts/gen_xqci.rb"
  regress-profile-extensions:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Check profile_extensions
      run: "./do test:profile_extensions"
  regress-regress:
    runs-on: ubuntu-latest
    needs: build-container
    steps:
    - name: Clone Github Repo Action
      uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5
    - name: Download docker image
      uses: actions/download-artifact@d3f86a106a0bac45b974a628896c90dbdf5c8093
      with:
        name: docker_image
        path: "${{ runner.temp }}"
    - name: Load image
      run: docker load --input ${{ runner.temp }}/docker_image.tar
    - name: Test that local regress runner works
      run: "./bin/regress -n regress-sorbet"
  regress-complete:
    runs-on: ubuntu-latest
    needs:
    - regress-idlc-unit
    - regress-udb-helpers-unit
    - regress-sorbet
    - regress-ext-explorer
    - regress-idl-typecheck
    - regress-test-inst-encodings
    - regress-gen-isa-manual
    - regress-gen-instruction-appendix
    - regress-cfg-manual
    - regress-gen-ext-pdf
    - regress-gen-certificate
    - regress-gen-profile
    - regress-udb-unit-test
    - regress-gen-go
    - regress-gen-c-header
    - regress-gen-sverilog
    - regress-cpp-unit
    - regress-riscv-tests
    - regress-riscv-tests-64
    - regress-xqci-doc
    - regress-profile-extensions
    - regress-regress
    - regress-pre-commit
    - regress-llvm
    - regress-find-configs
    - regress-udb-cov-report
    - build-llvm
    - call-deploy
    - java-tests
    - vscode-tests
    steps:
    - name: exit success
      run: exit 0
