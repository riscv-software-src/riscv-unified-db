# Copyright (c) Qualcomm Technologies, Inc. and/or its subsidiaries.
# SPDX-License-Identifier: BSD-3-Clause-Clear

# yaml-language-server: $schema=../../../schemas/ext_schema.json

$schema: "ext_schema.json#"
kind: extension
name: Xmock
type: privileged
long_name: Mock Extension (for testing database)
description: This is just for testing
versions:
  - version: "0.9.9"
    state: development
  - version: "1.0.0"
    state: ratified
    ratification_date: 2024-04

cert_normative_rules:
  - id: ext.Xmock.cov1
    name: Mock normative rule 1
    description: Let's have fun with the `Xmock` extension
    doc_links:
      - manual:inst:mul:encoding
      - udb:doc:inst:mock
  - id: ext.Xmock.cov2
    name: Mock normative rule 2
    description: And some more fun!
    doc_links:
      - manual:csr:misa:disabling-extension
cert_test_procedures:
  - id: ext.Xmock.my_first
    test_file_name: mock.S
    description: Verify that when it rains in Spain, it rains mainly on the plains!
    normative_rules: [ext.Xmock.cov1, ext.Xmock.cov2]
    steps: |
      . Wait for rain
      .. First we need some rain
      +
      [NOTE]
      This is getting silly. Very unprofessional. This note is preceded by a + instead of a blank line.
      . Measure rainfall
      .. Get a bunch of buckets around Spain
      +
      [NOTE]
      Yup, pretty silly. This note also has to be preceded by a + so that the ordered list
      number continues rather than being reset to 1.
      . Compare rainful. See this number is continued, not 1.
      .. Fail unless more rain falls on the plains than other regions
