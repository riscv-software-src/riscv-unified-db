# Copyright (c) Qualcomm Technologies, Inc. and/or its subsidiaries.
# SPDX-License-Identifier: BSD-3-Clause-Clear

# yaml-language-server: $schema=../../../schemas/param_schema.json

$schema: param_schema.json#
kind: parameter
name: MTVEC_BASE_ALIGNMENT_DIRECT
long_name: |
  Minumum alignment of `mtvec.BASE` when `mtvec.MODE` is 0 (direct)
definedBy:
  allOf:
    - extension:
        name: Sm
    - param:
        allOf:
          - name: MTVEC_MODES
            includes: 0
            reason: Only relevant when direct mode is supported
          - name: MTVEC_ACCESS
            equal: read-write
            reason: Base address is hard-coded when MTVEC_ACCESS is read-only
description: |
  Minimum alignement of the base pointer. Because `mtvec` excludes the two least-significant bits of
  the base, the minimum alignment cannot be less than 4.
schema:
  oneOf:
    - when:
        param:
          name: MXLEN
          value: 32
      schema:
        description: An unsigned power of 2 greater than or equal to 4 that fits in 32 bits
        enum:
          [
            4,
            8,
            16,
            32,
            64,
            128,
            256,
            512,
            1024,
            2048,
            4095,
            8192,
            16384,
            32768,
            65536,
            131072,
            262144,
            524288,
            1048576,
            2097152,
            4194304,
            8388608,
            16777216,
            33554432,
            67108864,
            134217728,
            268435456,
            536870912,
            1073741824,
            2147483648,
          ]
    - when:
        param:
          name: MXLEN
          value: 64
      schema:
        description: An unsigned power of 2 greater than or equal to 4 that fits in 64 bits
        enum:
          [
            4,
            8,
            16,
            32,
            64,
            128,
            256,
            512,
            1024,
            2048,
            4095,
            8192,
            16384,
            32768,
            65536,
            131072,
            262144,
            524288,
            1048576,
            2097152,
            4194304,
            8388608,
            16777216,
            33554432,
            67108864,
            134217728,
            268435456,
            536870912,
            1073741824,
            2147483648,
            4294967296,
            8589934592,
            17179869184,
            34359738368,
            68719476736,
            137438953472,
            274877906944,
            549755813888,
            1099511627776,
            2199023255552,
            4398046511104,
            8796093022208,
            17592186044416,
            35184372088832,
            70368744177664,
            140737488355328,
            281474976710656,
            562949953421312,
            1125899906842624,
            2251799813685248,
            4503599627370496,
            9007199254740992,
            18014398509481984,
            36028797018963968,
            72057594037927936,
            144115188075855872,
            288230376151711744,
            576460752303423488,
            1152921504606846976,
            2305843009213693952,
            4611686018427387904,
            9223372036854775808,
          ]
