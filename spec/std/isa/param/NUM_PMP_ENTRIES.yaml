# Copyright (c) Qualcomm Technologies, Inc. and/or its subsidiaries.
# SPDX-License-Identifier: BSD-3-Clause-Clear

# yaml-language-server: $schema=../../../schemas/param_schema.json

$schema: param_schema.json#
kind: parameter
name: NUM_PMP_ENTRIES
description: |
  Number of implemented PMP entries. Can be any value between 0-64, inclusive.

  The architecture mandates that the number of implemented PMP registers
  must appear to be 0, 16, or 64.

  Therefore, pmp registers will behave as follows according to NUN_PMP_ENTRIES:

  [separator="!"]
  !===
  ! NUM_PMP_ENTRIES ! pmpaddr<0-15> / pmpcfg<0-3> ! pmpaddr<16-63> / pmpcfg<4-15>
  ! 0               ! N                           ! N
  ! 1-16            ! Y                           ! N
  ! 17-64           ! Y                           ! Y
  !===

  ** N = Not implemented; access will cause `IllegalInstruction`
     if TRAP_ON_UNIMPLEMENTED_CSR is true
  ** Y = Implemented; access will not cause an exception (from M-mode), but register
     may be read-only-zero if NUM_PMP_ENTRIES is less than the corresponding register

  [NOTE]
  `pmpcfgN` for an odd N never exists when XLEN == 64

  When NUM_PMP_ENTRIES is not exactly 0, 16, or 64, some extant pmp registers,
  and associated pmpNcfg, will be read-only zero (but will never cause an exception).
long_name: TODO
schema:
  type: integer
  minimum: 0
  maximum: 64
definedBy:
  extension:
    name: Smpmp
