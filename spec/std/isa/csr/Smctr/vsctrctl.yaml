# Copyright (c) Muhammad Abdullah â€” 10xEngineers
# SPDX-License-Identifier: BSD-3-Clause-Clear

# yaml-language-server: $schema=../../../../schemas/csr_schema.json

$schema: csr_schema.json#
kind: csr
name: vsctrctl
long_name: Virtual Supervisor Control Transfer Records Control Register
address: 0x24E
virtual_address: 0x14E
writable: true
priv_mode: VS
length: 64
definedBy: Smctr
description: |
  The `vsctrctl` register is a VS-mode's version of supervisor register `sctrctl` that
  configures the Control Transfer Records capability. When `V=1`, vsctrctl substitutes
  for the usual `sctrctl`, so instructions that normally read or modify `sctrctl` actually
  access `vsctrctl` instead.
fields:
  U:
    location: 0
    type: RW
    alias: sctrctl.U
    reset_value: UNDEFINED_LEGAL
    description: |
      Enable transfer recording in the VU mode.
  S:
    location: 1
    type: RW
    alias: sctrctl.S
    reset_value: UNDEFINED_LEGAL
    description: |
      Enable transfer recording in the VS mode.
  RASEMU:
    location: 7
    type: RW
    alias: mctrctl.RASEMU
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it enables RAS (Return Address Stack) Emulation Mode.
  STE:
    location: 8
    type: RW
    alias: mctrctl.STE
    reset_value: UNDEFINED_LEGAL
    description: |
      Enables recording of traps to VS-mode when S=0.
  BPFRZ:
    location: 11
    type: RW
    alias: mctrctl.BPFRZ
    reset_value: UNDEFINED_LEGAL
    description: |
      Set `sctrstatus.FROZEN` on a breakpoint exception that traps to VS mode.
  LCOFIFRZ:
    location: 12
    type: RW
    alias: mctrctl.LCOFIFRZ
    reset_value: UNDEFINED_LEGAL
    description: |
      Set `sctrstatus.FROZEN` on local-counter-overflow interrupt (LCOFI) that traps to VS mode.
    definedBy: Sscofpmf
  EXCINH:
    location: 33
    type: RW
    alias: mctrctl.EXCINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of exceptions.
  INTRINH:
    location: 34
    type: RW
    alias: mctrctl.INTRINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of interrupts.
  TRETINH:
    location: 35
    type: RW
    alias: mctrctl.TRETINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of trap returns.
  NTBREN:
    location: 36
    type: RW
    alias: mctrctl.NTBREN
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it enables recording of not-taken branches.
  TKBRINH:
    location: 37
    type: RW
    alias: mctrctl.TKBRINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of taken branches.
  INDCALLINH:
    location: 40
    type: RW
    alias: mctrctl.INDCALLINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of indirect calls.
  DIRCALLINH:
    location: 41
    type: RW
    alias: mctrctl.DIRCALLINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of direct calls.
  INDJMPINH:
    location: 42
    type: RW
    alias: mctrctl.INDJMPINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of indirect jumps (without linkage).
  DIRJMPINH:
    location: 43
    type: RW
    alias: mctrctl.DIRJMPINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of direct jumps (without linkage).
  CORSWAPINH:
    location: 44
    type: RW
    alias: mctrctl.CORSWAPINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of co-routine swaps.
  RETINH:
    location: 45
    type: RW
    alias: mctrctl.RETINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of function returns.
  INDLJMPINH:
    location: 46
    type: RW
    alias: mctrctl.INDLJMPINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of other indirect jumps (with linkage).
  DIRLJMPINH:
    location: 47
    type: RW
    alias: mctrctl.DIRLJMPINH
    reset_value: UNDEFINED_LEGAL
    description: |
      When set, it inhibits recording of other direct jumps (with linkage).
  CUSTOM:
    location: 63-60
    type: RW
    alias: mctrctl.CUSTOM
    reset_value: UNDEFINED_LEGAL
    description: |
      WARL bits designated for custom use. The value 0 must correspond to standard behavior.
