// THIS FILE IS AUTOGENERATED

#include <string>

#include "udb/enum.hxx"

<%- enums = cfg_arch.global_ast.enums -%>
<%- symtab = cfg_arch.symtab -%>

namespace udb {
  <%- enums.each do |enum| -%>
  <%- element_names = enum.type(symtab).element_names -%>
  <%- element_values = enum.type(symtab).element_values -%>
  const std::string_view to_s(const <%= enum.name %>& value) {
    switch(value.value()) {
      <%- seen = [] -%>
      <%- element_values.each_index do |idx| -%>
      <%- next if seen.include?(element_values[idx]) -%>
      case <%= element_values[idx] %>: return "<%= element_names[idx] %>"sv;
      <%- seen << element_values[idx] -%>
      <%- end -%>
      default: return "Unknown";
    }
  }
  <%- end -%>
}
