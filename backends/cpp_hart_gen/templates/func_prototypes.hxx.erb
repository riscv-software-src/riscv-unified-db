// THIS FILE IS AUTOGENERATED
// IT IS NOT STANDALONE. IT IS A FUNCTION LIST FOR THE Hart CLASS

#define __UDB_CONSTEXPR_FUNC_CALL <%= name_of(:hart, cfg_arch) %>::
#define __UDB_CONST_GLOBAL(global_name) <%= name_of(:hart, cfg_arch) %>::global_name
#define __UDB_MUTABLE_GLOBAL(global_name) global_name
#define __UDB_STRUCT(struct_name) <%= name_of(:cfg, cfg_arch) %>_ ## struct_name ## _Struct
#define __UDB_STATIC_PARAM(param_name) <%= name_of(:params, cfg_arch) %>::param_name ## _VALUE

<%# need to get symtab at function scope -%>
<%- cfg_arch.reachable_functions.each do |func| -%>
<%- next if func.builtin? || func.generated? -%>
<%- symtab = cfg_arch.symtab.global_clone.push(nil) -%>

<%- if func.name == "ary_includes?" -%>
template <unsigned ARY_SIZE, typename ElementType, typename ValueType>
static constexpr bool ary_includes_Q_(const std::array<ElementType, ARY_SIZE>& ary, const ValueType& value);

template <typename ElementType, typename ValueType>
bool ary_includes_Q_(const std::vector<ElementType>& ary, const ValueType& value);

<%- else -%>
<%- constexpr = func.constexpr?(cfg_arch.symtab) -%>
<%- qualifiers = constexpr ? "static constexpr" : "" -%>
//
// <%= func.description.gsub("\n", "\n// ") %>
<%= func.gen_cpp_prototype(symtab, 0, qualifiers:, include_semi: !constexpr) %>
<%- if constexpr -%>
{
  <%- func.apply_template_and_arg_syms(symtab) -%>
  <%- pruned_func = func.prune(symtab).freeze_tree(symtab) -%>
  <%= pruned_func.body.gen_cpp(symtab) %>
}
<%- end -%>

<%- end -%>
<%- symtab.release -%>
<%- end -%>

#undef __UDB_CONSTEXPR_FUNC_CALL
#undef __UDB_CONST_GLOBAL
#undef __UDB_MUTABLE_GLOBAL
#undef __UDB_STRUCT
#undef __UDB_STATIC_PARAM
