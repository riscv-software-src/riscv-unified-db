[ext:$<%= ext.name %>-def]
= <%= ext.name %> Extension
<%= ext.long_name %>

Implemented Version:: <%= ext_version.version_str %>

== Versions

<%- ext.versions.each do |v| -%>
[frame="none",grid="none",cols="1,3"]
|===
2+^| Version <%= v.canonical_version %>

h| State | <%= v.state %>
<% if v.state == "ratified" && !v.ratification_date.nil? -%>
h| Ratification date | <%= v.ratification_date %>
<% end # if %>
<% unless v.changes.empty? -%>
h| Changes a|

    <% v.changes.each do |c| -%>
    * <%= c %>
    <% end -%>

<% end -%>
<% unless v.url.nil? -%>
h| Ratification document | <%= v.url %>
<% end -%>
<% unless v.defining_extension_requirements.empty? -%>
h| Requirements a|

!===
! Extension ! Version ! When

<%- v.defining_extension_requirements.each do |cond_ext_req| -%>
! <%= cond_ext_req.ext_req.name %>
! <%= cond_ext_req.ext_req.requirement_specs_to_s_pretty %>
! <%= cond_ext_req.cond.empty? ? "always" : cond_ext_req.cond.to_asciidoc %>
<%- end -%>

!===
<% end -%>
|===
<% end -%>

== Synopsis

<%= ext.description %>

<%- insts = ext.instructions -%>
<%- unless insts.empty? -%>
== Instructions

The following instructions are added by this extension in the <%= cfg_arch.name %> configuration:

[cols="1,3"]
|===
<%- insts.each do |inst| -%>
 | <%= "`#{inst.name}`" %> | *<%= inst.long_name %>*
<%- end -%>
|===
<%- end -%>

<%- unless ext.params.empty? -%>
== Parameters

This extension has the following implementation options:

<%- ext.params.sort_by { |p| p.name }.each do |param| -%>
<%= param.name %>::
+
--
<%= param.description %>
--
<%- end -%>

<%- end -%>
